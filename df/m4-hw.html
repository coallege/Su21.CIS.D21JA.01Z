<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Discussion: HW-M4</title><link rel="stylesheet" href="style.css"></head><body><div class="topic"><h1>Discussion: HW-M4</h1><div><p><span>Post questions about Section 3-10 problems 1,2,3,4.&nbsp;Use the first line of your post as the subject of the post.</span></p><p>&nbsp;</p></div></div><table><tbody><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>loose llama</td></tr><tr><td><p>How to submit individual ASM programs for assignment?</p><p>Section 3-10 problems 1,2,3,4 require submitting a small program for each answer.</p><p>I intend to write, build and test each of the four programs individually.</p><p>Should I submit each program as an individual ".asm" file?&nbsp; Or zip them into one ".zip" file?&nbsp; Or combine them into one large ".txt" file?</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>surviving takin</td></tr><tr><td><p>I had this question too!</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>spatial snipe</td></tr><tr><td><p>I remember professor said he will execute them. &nbsp;Saving the file in .asm will make it easy as well as the assignment allows multiple files to be uploaded. &nbsp;Separate files with .asm extension will be my way of submission this time onwards for programming questions, unless any further update comes from professor.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>loose llama</td></tr><tr><td><p>I asked the professor about this today and he said he prefers that we combine all of the problems into one large ".txt" text file.&nbsp; He will copy paste the individual problems as needed.&nbsp; He said it was easier to manage a single file.&nbsp; If you decide to do this, I recommend adding some kind of obvious marker between concatenated programs to simplify extracting them.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>professional pigeon</td></tr><tr><td><p>I would agree with them too. copy your asm data into a text file but make sure to set the boundary so professor knows where to stop, and so on</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>magnificent louse</td></tr><tr><td><p>I have the same question, thanks for answering</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>insufficient junglefowl</td></tr><tr><td><p>Thank you for sharing. I had the same question!</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>implicit hoverfly</td></tr><tr><td><p>I also had the same question. Thank you for your good questions and answers.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>abstract aardwolf</td></tr><tr><td><p>Thank you Nick. I had the same question and thanks for your answer.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>breezy bird</td></tr><tr><td><p>Thanks Nick, I too also had the same question on the homework</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>relieved quail</td></tr><tr><td><p>Thank you for the clarification!</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>thin tick</td></tr><tr><td><p>Thanks for the answer guys, I was also wondering this. I will definitely use a .txt file now.</p></td></tr></tbody></table></td></tr><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>loose llama</td></tr><tr><td><p>Is ExitProcess required?</p><p>The example program on section 3.2.1 The AddTwo Program makes a call to the Win32 ExitProcess API.&nbsp; I tried commenting out that section of code and the program seemed to run fine.</p><p>;INVOKE ExitProcess,0</p><p>Does Windows require the ExitProcess call?&nbsp; What happens when a program doesn't call ExitProcess?</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>statutory squirrel</td></tr><tr><td><p>I am not 100% sure, but I am pretty sure that ExitProcess is always needed. It shows that the code ends and that it should not continue executing it.&nbsp;</p><p>Here are some resources (I really suggest taking a look at them):</p><p><a href="https://stackoverflow.com/questions/49674026/what-happens-if-there-is-no-exit-system-call-in-an-assembly-program" target="_blank" class="external" rel="noreferrer noopener"><span>https://stackoverflow.com/questions/49674026/what-happens-if-there-is-no-exit-system-call-in-an-assembly-program</span><span aria-hidden="true" class="ui-icon ui-icon-extlink ui-icon-inline" title="Links to an external site."></span><span class="screenreader-only">&nbsp;(Links to an external site.)</span></a></p><p><a href="https://stackoverflow.com/questions/39904632/why-is-exitprocess-necessary-under-win32-when-you-can-use-a-ret" target="_blank" class="external" rel="noreferrer noopener"><span>https://stackoverflow.com/questions/39904632/why-is-exitprocess-necessary-under-win32-when-you-can-use-a-ret</span><span aria-hidden="true" class="ui-icon ui-icon-extlink ui-icon-inline" title="Links to an external site."></span><span class="screenreader-only">&nbsp;(Links to an external site.)</span></a></p><p>Hope this helps :)</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>tough toad</td></tr><tr><td><p>Yeah I think we do need it because in all the practice programs I saw they all have that statement. I would probably put it in the homework just to be safe.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>supposed swordtail</td></tr><tr><td><p>When I don't put it, windows starts spawning warnings and thinks that something terrible has happened to the program. I suppose for this reason, it's good practice to put it in.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>Deleted by Cole Gannon on Jul 10 at 6:17pm</td></tr><tr><td></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>Cole Gannon</td></tr><tr><td><p>Alternatively, if you don't feel like typing<code>invoke ExitProcess, 0</code>since it's long, you can do<code>int 3</code>. It'll basically do the same thing.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>electoral dragon</td></tr><tr><td><p>As others have mentioned the exit process call is required, I would also recommend simply adding the call to your MASM template so that you don't have to worry about forgetting it in the future.</p></td></tr></tbody></table></td></tr><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>consistent centipede</td></tr><tr><td><p>In the slides and in the textbook it says that it is good practice to comment a lot while writing your program. Do we have to comment on every section of our code for this class? Or only what we think is necessary to be commented?&nbsp;</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>shiny shark</td></tr><tr><td><p>Hello Michael! I think this a personal preference.&nbsp;</p><p>As someone new to assembly programming I would comment more than other programming languages I am familiar with - just as part of the learning. Good luck!</p><p>I find this very useful to add as the comment: (Visual Studio MASM references)</p><p>https://docs.microsoft.com/en-us/cpp/assembler/masm/directives-reference?view=msvc-160</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>secure salamander</td></tr><tr><td>Commenting is good practice for when others are going to read your code. It’s also especially helpful when writing a large amount of code to help you keep track of what it’s doing as well as others.</td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>impressive hummingbird</td></tr><tr><td><p>Hi Michael, this is a really good question. I think comments can easily be overdone, and its best to use them when actually needed and relevant. Before each section of code is good idea, but really its wherever makes the most sense and helps with readability of your code.&nbsp;</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>shiny shark</td></tr><tr><td><p>I totally agree with Eyrika on comments on general programming. For this homework, the comment section serves almost like my study notes so I don't mind overdoing it.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>agricultural ant</td></tr><tr><td><p>I think it is best to comment in moderation, what I mean by that is that we should try to comment to explain how the program works when it isn't obvious, stuff like explaining the purpose of a loop. Its best now to overdo the comments as they make the code harder to read rather than easier.&nbsp;</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>enormous earthworm</td></tr><tr><td><p>The way I think about comments is to make it very easy for someone who has no coding experience to read the part of the code and then read the comment and know what the bit of code I wrote does.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>conscious cattle</td></tr><tr><td>Hi Michael,<div><br></div><div>Have a look at this article from freecodecamp.org and I found it quite useful to understand documentation comments and clarification comments.</div><div><br></div><div><a href="https://www.google.com/amp/s/www.freecodecamp.org/news/code-comments-the-good-the-bad-and-the-ugly-be9cc65fbf83/amp/" class="external" target="_blank" rel="noreferrer noopener"><span>https://www.google.com/amp/s/www.freecodecamp.org/news/code-comments-the-good-the-bad-and-the-ugly-be9cc65fbf83/amp/</span><span aria-hidden="true" class="ui-icon ui-icon-extlink ui-icon-inline" title="Links to an external site."></span><span class="screenreader-only">&nbsp;(Links to an external site.)</span></a><br></div></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>driving deer</td></tr><tr><td><p>Hi Michael,</p><p>I believe that commenting your code is essential in any language even though it does not affect your program itself. Many times other people will be examining your code, and comments make it easy for them to understand what is going on. Usually in a high level programming language, programmers describe the purpose of their variables and write descriptions for their functions. Assembly language is going to be quite different but it has a lot of the same concepts. Especially if you are learning a new language like right now, comments will benefit you as you will better understand the code you are writing. I do not recall the professor saying anything about comments for the homework assignments requiring programming. One important thing to keep in mind is that you should not put excessive comments as sometimes the code itself is clear enough, and you will be wasting your time. You ultimately have to be the judge of what you should be commenting.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>conscious cattle</td></tr><tr><td><p>For the most part you don't have to explain step by step as others have suggested but briefly commenting what certain references and what they do is extremely helpful as people viewing your code will be able to follow the program's execution and how variables are being changed throughout runtime.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>envious earwig</td></tr><tr><td><p>Hi Michael,</p><p>I think commenting is really useful so that others will be able to understand your code. However, it can be excessive, so I would comment on only important things. Instead of comments for every single line, you can write a summary about a chunk of code.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>entitled earwig</td></tr><tr><td><p>Hi Michael,&nbsp;</p><p>According to my understanding, commenting is important because when a lot of people are working on the same code or when someone is reading your code, it may be difficult to understand parts of your code. So, to simplify that and make sure anyone reading your code understands it, you use comments. I think you should use comments where you think people might not be able to understand your code. You can also use comments in a way where they describe a whole method or a piece of code that is doing something specific.</p></td></tr></tbody></table></td></tr><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>genuine gopher</td></tr><tr><td><p>What is absolutely necessary to put in the code?</p><p>Do we have to put dwExitCode : DWORD?</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>loose llama</td></tr><tr><td><p>The "dwExitCode: DWORD" is part of the ExitProcess function prototype:</p><pre>ExitProcess PROTO, dwExitCode:DWORD</pre><p>The equivalent C/C++ prototype would be something like:</p><pre><a class="inline_disabled external" href="https://docs.microsoft.com/en-us/windows/win32/api/processthreadsapi/nf-processthreadsapi-exitprocess" target="_blank" rel="noreferrer noopener"><span>void ExitProcess( UINT uExitCode );</span><span aria-hidden="true" class="ui-icon ui-icon-extlink ui-icon-inline" title="Links to an external site."></span><span class="screenreader-only">&nbsp;(Links to an external site.)</span></a></pre><p>ExitProcess is a Windows API (essentially a library function) that is used to properly exit a Windows program.&nbsp; Calling the ExitProcess API tells Windows to that our process is finished and the dwExitCode is the result reported to the OS.&nbsp; Reporting the exit code as 0 means there was no error.&nbsp; It's like the "return 0;" at the end of a C/C++ program or "sys.exit(0)" in Python.&nbsp; We use this particular ExitProcess API because we run our program on Windows.&nbsp; It is part of the vast "Win32" API.</p><p>That said, you don't need to have the ExitProcess prototype declared in your program if you don't call it.</p><p>&nbsp;</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>Deleted by Cole Gannon on Jul 10 at 6:26pm</td></tr><tr><td></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>Cole Gannon</td></tr><tr><td><p>The argument name is not required, just the type. All you need is<code>ExitProcess proto,:dword</code>. The equivalent C prototype would be<code>extern void ExitProcess(DWORD);</code>. Alternatively, you can include<code>masm32/lib/kernel32.inc</code>which already has this defined for you.</p></td></tr></tbody></table></td></tr><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>loose llama</td></tr><tr><td><p>Using Visual Studio to compile obj and generate listing file?</p><p>I'm not sure if this is a Visual Studio 2019 bug or just a configuration issue on my part but when I enable listing files, MASM doesn't build any object file.</p><p>I enable listing files by editing the project properties as described on page 73 of the book:</p><p>Properties-&gt;Configuration Properties-&gt;Microsoft Macro Assembler-&gt;Listing File-&gt;Generate Preprocessed Source Listing:&nbsp; Yes (/EP)</p><p>But the build fails to create ".obj" files when listing files are enabled.&nbsp; I think it should be able to generate both ".lst" and ".obj".</p><p>A quick web search suggests I am doing it properly.</p><p>Does anyone know why this fails?&nbsp;&nbsp;</p></td></tr></tbody></table></td></tr><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>surviving takin</td></tr><tr><td><p>Has anyone had this error before? Is this a legit concern to be worried about? What can I do to prevent this?</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>shiny shark</td></tr><tr><td><p>Yes, I had this so you are not alone.</p><p>Please follow this<a href="https://www.youtube.com/watch?v=2fyoYNFO9XM" target="_blank" class="external youtubed" rel="noreferrer noopener"><span>https://www.youtube.com/watch?v=2fyoYNFO9XM</span><span aria-hidden="true" class="ui-icon ui-icon-extlink ui-icon-inline" title="Links to an external site."></span><span class="screenreader-only">&nbsp;(Links to an external site.)</span></a><a href="https://www.youtube.com/watch?v=2fyoYNFO9XM" class="youtubed"><img src="/images/play_overlay.png" class="media_comment_thumbnail" style="background-image: url(//img.youtube.com/vi/2fyoYNFO9XM/2.jpg)" alt=""></a>-&gt; I reset my project and you need to make a few other configuration changes (especially set the build dependency to MASM.) I followed exactly as in the video (which some steps are not available in the text book) so I can build/debug my .asm files. Good luck!</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>close buzzard</td></tr><tr><td><p>I had the same issue. Resetting the project is temporary at best, and the culprit is Windows Defender flagging some files (you should've seen some notification). I can assure there are no viruses and you can make an exclusion to that folder by following the steps here:<a class="inline_disabled external" href="https://support.microsoft.com/en-us/windows/add-an-exclusion-to-windows-security-811816c0-4dfd-af4a-47e4-c301afe13b26#:~:text=Go%20to%20Start%20%3E%20Settings%20%3E%20Update,%2C%20file%20types%2C%20or%20process." target="_blank" rel="noreferrer noopener"><span>Add an exclusion to Windows Security</span><span aria-hidden="true" class="ui-icon ui-icon-extlink ui-icon-inline" title="Links to an external site."></span><span class="screenreader-only">&nbsp;(Links to an external site.)</span></a></p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>puzzled pony</td></tr><tr><td><p>I had a similar issue with an anti-malware software preventing the project from building/running. I just had to add the project to the exclusion list.&nbsp;</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>breezy bird</td></tr><tr><td><p>I had the same issue as well, I also followed the video and was able to fix it as well</p></td></tr></tbody></table></td></tr><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>financial fowl</td></tr><tr><td><p>Is it okay by classifying the code I write as ".code" or ".data" and just typing my content below it? Do you think that will suffice?</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>grumpy haddock</td></tr><tr><td><p>I don't think so, I think you are supposed to have the whole main code. At least that is what I did.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>entitled earwig</td></tr><tr><td><p>Yeah, I'm pretty sure the code wont run if you don't create a main process.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>occasional muskox</td></tr><tr><td>Is the main method a special always-run method similar to what Java/C have?</td></tr></tbody></table></td></tr><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>relaxed python</td></tr><tr><td><p>Anyone know how to initialize the FWORD in question 3 of Exercise 3.10?&nbsp;</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>insufficient junglefowl</td></tr><tr><td><p>Here is a link providing more information about FWORD http://www.c-jump.com/CIS77/ASM/DataTypes/lecture.html</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>skilled silkworm</td></tr><tr><td><p>Hi Yen-Jung,</p><p><span>FWORD, DF (farword = 6 bytes). Allocates 6-byte (48-bit) integers. These values are normally used only as pointer variables on the 80386/486 processors.</span></p><p><span>I have found a link for an example:<a class="inline_disabled external" href="http://csprogrammingtutorial.blogspot.com/2018/01/program-for-data-denitions-in-assembly.html" target="_blank" rel="noreferrer noopener"><span>http://csprogrammingtutorial.blogspot.com/2018/01/program-for-data-denitions-in-assembly.html</span><span aria-hidden="true" class="ui-icon ui-icon-extlink ui-icon-inline" title="Links to an external site."></span><span class="screenreader-only">&nbsp;(Links to an external site.)</span></a></span></p><p><span>Hope it helps.</span></p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>brief bird</td></tr><tr><td><p>I had the same question. Thanks everyone for your helpful responses!</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>brief bird</td></tr><tr><td><p>I had the same question. Thanks everyone for your helpful responses!</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>civic bovid</td></tr><tr><td><p>Same here. Thanks for helpful link.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>easy dolphin</td></tr><tr><td><p>I was wondering about the same thing! Thanks for the link!</p></td></tr></tbody></table></td></tr><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>geographical gopher</td></tr><tr><td><p>Can we use the AddTwo from the presentation for reference as well? Not the 64bit one</p><p>When creating the array do we allocate the memory with DUP? I might find this out as I start the HW tbh</p><p>&nbsp;</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>advanced anaconda</td></tr><tr><td><p>Hi Aaron,</p><p>I think question 1 of 3.10 is asking us to use AddTwo program of 32bit as a reference, which can be found in the tutorial project folder Project32_VS2019.</p></td></tr></tbody></table></td></tr><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>moaning mastodon</td></tr><tr><td><p>My files do not convert into .asm? How did you guys convert them?</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>ugliest trout</td></tr><tr><td><p>The same problem, do not know how to covert to .asm.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>overseas orca</td></tr><tr><td><p>What type of file are you converting from? If you are using Visual Studio, there should be option under File &gt; Save As to save as .asm . Additionally, you can just rename the file to have the .asm extension, and it should work properly (it worked for me).</p></td></tr></tbody></table></td></tr><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>Deleted by passive owl on Jul 11 at 10:11pm</td></tr><tr><td></td></tr></tbody></table></td></tr><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>Deleted by passive owl on Jul 11 at 10:11pm</td></tr><tr><td></td></tr></tbody></table></td></tr><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>Deleted by passive owl on Jul 11 at 10:13pm</td></tr><tr><td></td></tr></tbody></table></td></tr><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>Deleted by passive owl on Jul 11 at 10:17pm</td></tr><tr><td></td></tr></tbody></table></td></tr><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>passive owl</td></tr><tr><td><h3>Code Editing</h3><p>Do I suppose to write this part of the code for these 4 questions? I am not very clear about the " dwExitCode: DWORD" .</p><pre>.386<br>.model flat,stdcall<br>.stack 4096<br>ExitProcess PROTO, dwExitCode:DWORD</pre><p>(The above code is from our textbook's "AddTwo program from Section 3.2")</p><p>Can I edit this piece of code in any other using situation? If not, why can't I?</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>advanced anaconda</td></tr><tr><td><p>Hi Jiongluan,</p><p>The textbook page-316 8.4.4 has explained the PROTO directive.</p><p>In AddTwo program, it is 32-bit mode, and PROTO here declares a procedure named ExitProcess, and also a parameter called<span>dwExitCode whose type is DWORD.</span></p></td></tr></tbody></table></td></tr><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>Deleted by relieved quail on Jul 11 at 10:59pm</td></tr><tr><td></td></tr></tbody></table></td></tr></tbody></table></body></html>