<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Discussion: HW-M6</title><link rel="stylesheet" href="style.css"></head><body><div class="topic"><h1>Discussion: HW-M6</h1><div><p><span>Post questions about HW-M6.&nbsp;Use the first line of your post as the subject of the post.</span></p><p>&nbsp;</p><p><span>Section 5.8.1 problems 15, 16,17,18,19, 20-Section 5.9 problems 1,2,4,5,7</span></p></div></div><table><tbody><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>married llama</td></tr><tr><td><p>Section 5.9 problem 2 starting index?</p><p>For Section 5.9 problem 2 says to assume the arrays use zero-based indexes.&nbsp; So is "start" a zero based index?&nbsp; I don't understand "start".&nbsp; It says it is a "starting index in a list".&nbsp; Which list?</p><p>it shows some example input data:<br>; &nbsp;start = 1<br>; &nbsp;chars: H A C E B D F G<br>; &nbsp;links: 0 4 5 6 2 3 7 0<br>And output array would be A,B,C,D,E,F,G,H</p><p>If "start" is the zero-based starting index of "links" then wouldn't the output be:</p><p style="padding-left: 40px;">links[start] == links[1] == 4 -&gt; chars[4] -&gt; 'B' (wrong!)</p><p>If "start" is the zero-based starting index of "chars" then wouldn't the output be:</p><p style="padding-left: 40px;">links[0] == 0 -&gt; char[start+0] == char[1+0] == char[1] -&gt; 'A' (so far so good)</p><p style="padding-left: 40px;">links[1] == 4 -&gt; char[start+4] == char[1+4] == char[5] -&gt; 'D' (oops!)</p><p>I don't get it.</p><p>&nbsp;</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>forward frog</td></tr><tr><td><p>The array tells you to start at index 1 (where A is), then you copy A into a new array. A is linked to 4, so set the start to 4 (or index). At index 4 is B, copy char into array and repeat.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>married llama</td></tr><tr><td><p>Thanks, that is very clear!</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>continuing centipede</td></tr><tr><td>Thank you!</td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>forward frog</td></tr><tr><td><p>No problem, I also hate poorly worded CS problems.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>ethnic earthworm</td></tr><tr><td><p>Thank you</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>hurt harrier</td></tr><tr><td><p>ah I see</p><p>&nbsp;</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>broad bird</td></tr><tr><td>Thank you, that made it easier for me to understand.</td></tr></tbody></table></td></tr><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>radical pigeon</td></tr><tr><td><p>Why do some of the 5.8.1 problems have runtime or exception errors when you run them?</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>similar salamander</td></tr><tr><td><p>I think because they aren't complete code. There's some other things you need to add to get them to run. I think it expects us to just be able to look at the code and figure out what it's doing rather than let a compiler tell us.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>forward frog</td></tr><tr><td><p>They are more like code analysis problems.&nbsp; Just remember the requirements to run each command, and understand how a stack data structure operates.</p><p>Also, it is a single true statement for P 16-19, not multiple.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>supposed squirrel</td></tr><tr><td><p>Make sure its complete code and that syntax is correct.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>evolutionary earwig</td></tr><tr><td><p>You have to complete the code and get them to run.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>broad bird</td></tr><tr><td>I think itâ€™s because the code is incomplete, and requires the code to be finished, with correct syntax.</td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>pleased orca</td></tr><tr><td><p>Not all of the code is complete, make sure you fill in all the necessary parts.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>grand gopher</td></tr><tr><td><p>Are you pasting just the textbook code only, or are you pasting in the template as well, without the template code some items aren't setup properly.&nbsp;</p></td></tr></tbody></table></td></tr><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>encouraging dragon</td></tr><tr><td><p>In section 5.2 they mention that a call statement takes 5 bytes of machine code. In chapter 3/4 the book said that the machine code is most efficient when dealing with even memory addresses so would it be good practice to include an align statement after call statements for efficiency?</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>Cole Gannon</td></tr><tr><td><p>I think this only matters is you're really gunning for performance, in which case, I don't think it would hurt that much. I think for this class' purpose, it's fine to not align since what matters are the instructions that you use.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>federal firefly</td></tr><tr><td><p>Adding to what Cole said, I imagine some uses of call in this book are frivolous if you're going for performance, in reality if you're calling a procedure in one place it's probably just faster to inline it using macros or some other assembler directive. But I doubt we'll get into any of that advanced stuff during this course.</p></td></tr></tbody></table></td></tr><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>thoughtless swordtail</td></tr><tr><td><h2>How do we submit the homework?</h2><p>Do we include the full program in our submission since our programs now have procedures other than main and use irvine?</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>dry cuckoo</td></tr><tr><td><p>Ronak: my understanding is the same as he requested before just the .data and .code segments.&nbsp; I just did my first programming question - there are extra lines beyond these two sections. I think I may just submit the whole thing.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>regulatory pony</td></tr><tr><td><p>I have been using the Irvine library and just submit the whole solution.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>spectacular silkworm</td></tr><tr><td><p>I have been submitting homework using a text editor. I use notepad/sublime text and just copy .data and the .code part.</p></td></tr></tbody></table></td></tr><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>dry cuckoo</td></tr><tr><td><p>Just in case anyone is looking for info how to set up Irvine library in the VS:</p><p><a href="https://www.youtube.com/watch?v=isS432XiT58" target="_blank" class="external youtubed" rel="noreferrer noopener"><span>https://www.youtube.com/watch?v=isS432XiT58</span><span aria-hidden="true" class="ui-icon ui-icon-extlink ui-icon-inline" title="Links to an external site."></span><span class="screenreader-only">&nbsp;(Links to an external site.)</span></a><a href="https://www.youtube.com/watch?v=isS432XiT58" class="youtubed"><img src="/images/play_overlay.png" class="media_comment_thumbnail" style="background-image: url(//img.youtube.com/vi/isS432XiT58/2.jpg)" alt=""></a>-&gt; detailed instructions and working!</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>broken bird</td></tr><tr><td><p>Thanks so much, Yimin! This video is so helpful, thank you for sharing!</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>supposed squirrel</td></tr><tr><td><p>Hi! Thanks a bunch! Here is a resource I used:<a href="http://www.asmirvine.com/gettingStartedVS2019/index.htm" target="_blank" class="external" rel="noreferrer noopener"><span>http://www.asmirvine.com/gettingStartedVS2019/index.htm</span><span aria-hidden="true" class="ui-icon ui-icon-extlink ui-icon-inline" title="Links to an external site."></span><span class="screenreader-only">&nbsp;(Links to an external site.)</span></a></p><p>&nbsp;</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>inland hummingbird</td></tr><tr><td><p>This really helped, i needed this video. Thanks Yimin!</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>useful trout</td></tr><tr><td><p>Thank you so much!</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>adverse anaconda</td></tr><tr><td><p>Just what i was looking for! Thanks!</p><p>&nbsp;</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>unfair tick</td></tr><tr><td><p>I didn't think anyone else was struggling with this, thank you so much! The video clearly outlined the problem and showed me how to fix it.</p></td></tr></tbody></table></td></tr><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>precious owl</td></tr><tr><td><h4><span>A question about 5.8.1 problem 16</span></h4><p>(a question from AssemblyLanguage4x86 Processors 7th)</p><pre><span>Which statement is true about what will happen when the example code runs?<br>1: main PROC<br>2: push 10<br>3: push 20<br>4: call Ex2Sub<br>5: pop eax<br>6: INVOKE ExitProcess,0<br>7: main ENDP<br>8:<br>9: Ex2Sub PROC<br>10: pop eax<br>11: ret<br>12: Ex2Sub ENDP</span></pre><p>Line 11, when we meet 'ret', what is the next step? return nothing and go back to line 5?</p><p>&nbsp;</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>cognitive buzzard</td></tr><tr><td><p>There will be a runtime error at line 11 because of the before line "pop eax". Here's a more detailed explanation:<a class="inline_disabled external" href="https://stackoverflow.com/a/29630687" target="_blank" rel="noreferrer noopener"><span>https://stackoverflow.com/a/29630687</span><span aria-hidden="true" class="ui-icon ui-icon-extlink ui-icon-inline" title="Links to an external site."></span><span class="screenreader-only">&nbsp;(Links to an external site.)</span></a></p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>striking snipe</td></tr><tr><td><p>Thank you Joseph. This explains both execution control and any programmer specific usage of PUSH and POP both operate on "runtime stack", which is in a way powerful as well as dangerous when programmers are not careful enough.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>hollow haddock</td></tr><tr><td><p>Yup, after ret the instruction will continue at line 5. But there will be a runtime error at 11 since the pop removed the return address, leaving 20 on the top of the stack.</p></td></tr></tbody></table></td></tr><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>ripe python</td></tr><tr><td><p><strong>5.8.1 question 16</strong><strong></strong></p><p>Which statement is true about what will happen when the example code runs?<br>&nbsp;1: main PROC<br>&nbsp;2: push 10<br>&nbsp;3: push 20<br>&nbsp;4: call Ex2Sub<br>&nbsp;5: pop eax<br>&nbsp;6: INVOKE ExitProcess,0<br>&nbsp;7: main ENDP<br>&nbsp;8:<br>&nbsp;9: Ex2Sub PROC<br>10: pop eax<br>11: ret<br>12: Ex2Sub ENDP<br>a. EAX will equal 10 on line 6<br>b. The program will halt with a runtime error on Line 10<br>c. EAX will equal 20 on line 6<br>d. The program will halt with a runtime error on Line11</p><p>I'm wondering for question b and question d, how do we know whether a runtime error occur?</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>foolish fowl</td></tr><tr><td><p>So when looking at code and trying to decide where the runtime error exists, there are certain keywords that point it to the right answer. In this case, a runtime error will not occur when the code "pop eax" is digested. Even if there is no value to pop, it will not throw and error at you, it will just keep going since it is redundant. On the other hand, run time error occur when you are returning back to the code. The keyword "ret" tells the computer to start from that line after it goes off on its tangent of "Ex2Sub." To answer your question, runtime errors will occur when the computer can't come back to its original code.</p></td></tr></tbody></table></td></tr><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>early deer</td></tr><tr><td><p><strong>CALL and RET</strong></p><p>After starting on section 5.8.1 of the homework where we need to analyze the code given and then figure out the final value of EAX or any runtime errors, I am a bit confused on how CALL and RET work. In the textbook, I read that the runtime stack and value that ESP points to are both impacted by both of these operators. How are the values on the stack impacted by these instructions? On question 16, I think that there is a runtime error since RET is called immediately after the return address is popped from the stack, but I am not confident with my answer.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>evident earwig</td></tr><tr><td><p>CALL effectively pushes the location for the code to return to into the stack, and then executes the process, and RET ends the process, pops a value of the stack (which CALL was supposed to provide) and returns there to continue the code. For 16, I got the same answer as you, so I think you are right.</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>itchy junglefowl</td></tr><tr><td><p>Here is a link to some CALL and RET examples:</p><p>https://stackoverflow.com/questions/36568642/using-call-ret-in-assembly-x86</p></td></tr></tbody></table></td></tr><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>dry cuckoo</td></tr><tr><td><p>Homework help needed: 5.8.1 -&gt; #17</p><p><span style="color: var(--ic-brand-font-color-dark); font-family: inherit; font-size: 1rem;">Which statement is true about what will happen when the example code runs</span></p><div class="page" title="Page 219"><div class="section"><div class="layoutArea"><div class="column"><pre><span>1. main PROC
2   mov  eax,30 ; assign 30 to eax
</span><span>3    push eax   ; push eax register to the stack (store it)
4    push 40   ; push 40 to the stack
5   call Ex3Sub
6   INVOKE ExitProcess,0
</span></pre><p><span>7 main ENDP</span></p><p><span>8</span></p><p><span>9: Ex3Sub PROC</span></p><p><span>10: pusha&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;;push ax register to the stack</span></p><p><span>11: mov eax,80&nbsp; ; assign 80 to eax register</span></p><p><span>12: popa&nbsp; ; pop ax register from the stack<br></span>13: ret&nbsp; &nbsp; &nbsp;; return eax of 80 to the calling proc<br>14: Ex3Sub ENDP</p></div></div></div></div><p>Can anyone help to explain what Ex3Sub does? Return eax register?</p><p>From #3, EAX register of value 30 is stored in the stack? how this works internally?</p><p>Thanks in advance! I run the program EAC should have the value 30 in line 6.&nbsp;</p><p>&nbsp;</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>adverse anaconda</td></tr><tr><td><p>When the Ex3Sub is called at line 5, the eax holds value 30. Then at line 10, the general-purpose registers values are pushed on to the stack, including EAX, ECX, EDX, EBX, ESP. Although line 11 assigns 80 to eax, popa at line 12 restores register values from stack, and eax was overwritten by 30.</p></td></tr></tbody></table></td></tr><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>conscious catfish</td></tr><tr><td><p>5.9 #7</p><p>Has anyone completed #7 if so do you have any pointers for how to get started?</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>total takin</td></tr><tr><td><p>Hint: Start off defining your loop, use GetMaxXY, define your rows and columns for the screen location.</p></td></tr></tbody></table></td></tr><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>clean bovid</td></tr><tr><td><p>Number 18: the answer is "<span style="color: var(--ic-brand-font-color-dark); font-family: inherit; font-size: 1rem;">The program will halt with a runtime error on Line 4", am I right?</span></p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>alert ant</td></tr><tr><td><p>yeah, I got the same thing</p></td></tr></tbody></table><table class="comment" style="margin-left: 40px;"><tbody><tr><td>electric dolphin</td></tr><tr><td><p>Hi! Thank you for your post. For some reason, the code for problem 18 didn't give me a runtime error at all when I ran it on Visual Studio. Am I missing something here? Please let me know.</p></td></tr></tbody></table></td></tr><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>near mastodon</td></tr><tr><td><p>Can anyone give me any tips on how to tackle question 5?</p><p>&nbsp;</p></td></tr></tbody></table></td></tr><tr><td><table class="comment" style="margin-left: 0px;"><tbody><tr><td>near mastodon</td></tr><tr><td><p>For question 7, if I was to display multiple characters instead of a single character at 100 random locations, how would I implement that?</p></td></tr></tbody></table></td></tr></tbody></table></body></html>